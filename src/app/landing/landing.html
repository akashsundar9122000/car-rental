<div class="bg-gray-50 dark:bg-gray-900 min-h-screen pb-10">

    <!-- Search Header Section -->
    <div class="bg-white dark:bg-gray-800 rounded-b-[2.5rem] shadow-soft pb-8 pt-4 px-6 relative z-10">

        <div class="mt-2 mb-8 hidden md:block text-center max-w-2xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-black text-gray-900 dark:text-white tracking-tight mb-4">Find your
                perfect drive</h1>
            <p class="text-gray-500 dark:text-gray-400 text-lg">Explore the world's most premium fleet. Anywhere,
                anytime.</p>
        </div>

        <!-- Mobile Greeting (Hidden on Desktop since app layout handles it) -->
        <div class="md:hidden flex justify-between items-center mb-8">
            <div>
                <p class="text-gray-500 dark:text-gray-400 text-sm font-medium">Hello, Guest</p>
                <p class="text-xl font-black text-gray-900 dark:text-white">What's your next destination?</p>
            </div>
        </div>

        <!-- Search Bar -->
        <div
            class="max-w-4xl mx-auto relative flex items-center shadow-soft-lg bg-white dark:bg-gray-800 rounded-full p-2 border border-gray-100 dark:border-gray-700 transition-all hover:shadow-xl hover:border-gray-200 dark:hover:border-gray-600 focus-within:ring-2 focus-within:ring-gray-200 dark:focus-within:ring-gray-700">
            <div class="pl-4 pr-2 text-gray-400 dark:text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            </div>
            <div class="flex-1 px-4 border-r border-gray-100 dark:border-gray-600 flex flex-col justify-center">
                <input type="text" placeholder="Search for destinations?" (keyup.enter)="searchCars()"
                    class="w-full text-gray-900 dark:text-gray-100 font-bold text-sm md:text-base bg-transparent focus:outline-none placeholder-gray-400 dark:placeholder-gray-400">
                <p class="text-gray-400 dark:text-gray-400 text-xs md:text-sm mt-0.5">Anywhere • Anytime</p>
            </div>
            <button (click)="searchCars()"
                class="bg-black dark:bg-white text-white dark:text-black rounded-full p-3 ml-2 transition-transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transform rotate-90" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                </svg>
            </button>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-10">

        <!-- Top Trends -->
        <div class="mb-12">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <h2 class="text-2xl font-black text-gray-900 dark:text-white">Top trends</h2>
                    <p class="text-gray-500 dark:text-gray-400 text-sm">Planning Your Break?</p>
                </div>
                <button
                    class="text-gray-400 dark:text-gray-500 hover:text-black dark:hover:text-white text-sm font-semibold flex items-center group transition-colors">
                    View all
                    <svg xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 ml-1 transform group-hover:translate-x-1 transition-transform" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>

            <!-- Horizontal Scroll Cards -->
            <div class="flex overflow-x-auto pb-8 -mx-4 px-4 snap-x snap-mandatory hide-scroll space-x-6">

                @for (car of topTrends; track car.name) {
                <div
                    class="snap-center shrink-0 w-[280px] md:w-[320px] bg-white dark:bg-gray-800 rounded-[2rem] p-4 shadow-soft hover:shadow-soft-lg transition-all border border-gray-100 dark:border-gray-700 cursor-pointer group hover:-translate-y-1">

                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-black text-xl text-gray-900 dark:text-white">{{car.name}}</h3>
                            <div class="flex items-center text-xs text-gray-500 dark:text-gray-400 mt-1 space-x-2">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1 text-gray-400"
                                        viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd"
                                            d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                                            clip-rule="evenodd" />
                                    </svg>
                                    {{car.type}}
                                </span>
                                <span class="flex items-center text-yellow-500 font-bold">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-0.5" viewBox="0 0 20 20"
                                        fill="currentColor">
                                        <path
                                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                    {{car.rating}} <span
                                        class="text-gray-400 dark:text-gray-500 font-normal ml-0.5">({{car.trips}})</span>
                                </span>
                            </div>
                        </div>
                        <button
                            class="p-2 bg-gray-50 dark:bg-gray-700 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-red-500 transition-colors"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                    </div>

                    <!-- Car Image -->
                    <div class="h-40 w-full relative mb-4">
                        <img [src]="car.image" [alt]="car.name"
                            class="w-full h-full object-cover rounded-2xl group-hover:scale-105 transition-transform duration-500">
                    </div>

                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-2xl font-black text-gray-900 dark:text-white">₹{{car.price}}</span>
                            <span class="text-xs text-gray-500 dark:text-gray-400 font-medium">/day</span>
                        </div>
                        <!-- Link to Cars to simulate booking flow -->
                        <button (click)="navigateToLogin()"
                            class="bg-black dark:bg-white hover:bg-gray-800 dark:hover:bg-gray-200 text-white dark:text-black p-3 rounded-full shadow-md transition-transform hover:scale-105">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform -rotate-45" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M14 5l7 7m0 0l-7 7m7-7H3" />
                            </svg>
                        </button>
                    </div>

                </div>
                }
            </div>
        </div>

        <!-- Popular Vehicles -->
        <div>
            <div class="flex justify-between items-end mb-6">
                <div>
                    <h2 class="text-2xl font-black text-gray-900 dark:text-white">Popular Vehicles</h2>
                </div>
                <button
                    class="text-gray-400 dark:text-gray-500 hover:text-black dark:hover:text-white text-sm font-semibold flex items-center group transition-colors">
                    View all
                    <svg xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 ml-1 transform group-hover:translate-x-1 transition-transform" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>

            <div class="flex flex-col space-y-4">
                @for (car of popularVehicles; track car.name) {
                <div
                    class="bg-white dark:bg-gray-800 rounded-[2rem] p-3 flex items-center sm:p-4 shadow-soft border border-gray-100 dark:border-gray-700 hover:shadow-soft-lg cursor-pointer transition-shadow group">
                    <div class="h-24 w-32 rounded-2xl overflow-hidden shadow-sm shrink-0">
                        <img [src]="car.image" [alt]="car.name"
                            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                    </div>
                    <div class="ml-4 flex-1">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="font-black text-lg text-gray-900 dark:text-white leading-tight mb-1">
                                    {{car.name}}</h3>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mb-2">{{car.type}} • Auto</p>
                            </div>
                            <div class="text-right">
                                <span
                                    class="text-lg font-black text-gray-900 dark:text-white block">₹{{car.price}}</span>
                                <span class="text-[10px] text-gray-500 dark:text-gray-400 font-medium">/day</span>
                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>

        </div>

    </div>
</div>

<style>
    /* Hide scrollbar for Chrome, Safari and Opera */
    .hide-scroll::-webkit-scrollbar {
        display: none;
    }

    /* Hide scrollbar for IE, Edge and Firefox */
    .hide-scroll {
        -ms-overflow-style: none;
        /* IE and Edge */
        scrollbar-width: none;
        /* Firefox */
    }
</style>