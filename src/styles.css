@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-gray-50 text-gray-900 font-sans antialiased transition-colors duration-300;
    }

    .dark body {
        @apply bg-gray-950 text-gray-100;
    }

    /* Interactive state visibility in dark mode - transition fix */
    * {
        @apply transition-colors duration-200;
    }

    /* Keep these specific colors accurate in dark mode */
    .dark .text-red-600 {
        color: #fca5a5 !important;
    }

    .dark .bg-red-50 {
        background-color: rgba(127, 29, 29, 0.2) !important;
        border-color: rgba(127, 29, 29, 0.5) !important;
    }

    .dark .text-red-500 {
        color: #f87171 !important;
    }

    .dark .bg-red-600 {
        background-color: #ef4444 !important;
        color: #ffffff !important;
    }

    /* Green / Success states in dark mode */
    .dark .bg-green-50,
    .dark .bg-green-900\/50 {
        background-color: rgba(6, 78, 59, 0.3) !important;
        border-color: rgba(16, 185, 129, 0.4) !important;
    }

    .dark .text-green-600,
    .dark .text-green-500,
    .dark .text-green-400 {
        color: #34d399 !important;
    }

    .dark .hover\:bg-red-700:hover {
        background-color: #dc2626 !important;
    }

    /* Interactive state visibility in dark mode */
    .dark .group-focus-within\:text-black:focus-within {
        color: #ffffff !important;
    }

    .dark .group-hover\:text-black:hover {
        color: #ffffff !important;
    }

    .dark .placeholder-gray-400::placeholder {
        color: #6b7280 !important;
    }

    /* Transition color fixing */
    * {
        @apply transition-colors duration-200;
    }
}

/* Safe area padding for mobile bottom nav */
.pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 8px);
}

/* Custom shadow utilities */
@layer utilities {
    .shadow-soft {
        box-shadow: 0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
    }

    .shadow-soft-lg {
        box-shadow: 0 10px 40px -15px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
}

/* Ensure bottom nav is always accessible on Android */
@supports not (padding-bottom: env(safe-area-inset-bottom)) {
    .pb-safe {
        padding-bottom: 12px;
    }
}